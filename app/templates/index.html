{% extends "base.html" %}
{% set messages=get_flashed_messages() %}
{% block title %}{% if messages|length > 0 %}Error - {{ super() }}{% else %}{{ super() }}{% endif %}{% endblock %}
{% block content %}
{% if messages %}
  <div class="u-mt-s">
    <div class="panel panel--error">
      <div class="panel__header">
        <h1 class="panel__title venus">
          {% for message in messages %}
            {% if message.clickable %}
              {% trans count=messages|length %}
              This page has an error
              {% pluralize %}
              This page has {{ count }} errors
              {% endtrans %}
            {% else %}
              {% trans count=messages|length %}
              Error
              {% endtrans %}
            {% endif %}
          {% endfor %}  
        </h1>
      </div>
      <div class="panel__body">
        <p class="mars">
        {% trans count=messages|length %}
        This <strong>must be corrected</strong> to continue.
        {% pluralize %}
        These <strong>must be corrected</strong> to continue.
        {% endtrans %}
        </p>
        <ul class="list list--bare">
          {% for message in messages %}
          <li class="list__item mars">{{ loop.index }})
            {% if message.clickable %}
              <a class="js-inpagelink" href="#census-access-code-answer">{{ message.text }}</a>
            {% else %}
              {{ message.text }}
            {% endif %}
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
{% endif %}
<div>
<h2 class="saturn u-mt-l u-mb-m">Welcome to the UK-wide online household study</h2>
  <form action="/" class="form qa-questionnaire-form" role="form" method="post" novalidate="">
    <div class="panel panel--simple panel--spacious {% if messages %} panel--error {% else %} panel--info {% endif %} u-mb-l">
      <div class="panel__body">
        <div class="group" id="household-and-accommodation">
          <div class="block" id="census-access-code">
            <div class="section" id="census-access-code-section">
              <div class="question" id="census-access-code-question">
                <div class="question__answers">
                  <div class="question__answer">
                    <div class="answer answer--integer " id="census-access-code-answer">
                      <div class="answer__fields js-fields">
                        <fieldset class="fieldgroup fieldgroup--date">
                          <legend class="fieldgroup__title venus">To start or continue the study, enter your 12 digit household access code and select "Start now".</legend>
                          <p class="mars">The household access code is printed on the letter we sent you.</p>
                          <div class="fieldgroup__fields">
                            <div class="field field--input field--code">
                              <label class="label mercury u-vh" for="iac1">Enter the first four characters of the access code</label>
                              <input pattern="^[a-zA-Z0-9]{4}$" maxlength="4" data-qa="input-text" id="iac1" name="iac1" class="input input--text" value=""
                                type="text" autocomplete="off" required>
                            </div>
                            <div class="field field--select field--code">
                              <label class="label mercury u-vh" for="iac2">Enter the next four characters of the access code</label>
                              <input pattern="^[a-zA-Z0-9]{4}$" maxlength="4" data-qa="input-text" id="iac2" name="iac2" class="input input--text" value=""
                                type="text" autocomplete="off" required>
                            </div>
                            <div class="field field--input field--code">
                              <label class="label mercury u-vh" for="iac3">Enter the last four characters of the access code</label>
                              <input pattern="^[a-zA-Z0-9]{4}$" maxlength="4" data-qa="input-text" id="iac3" name="iac3" class="input input--text" value=""
                                type="text" autocomplete="off" required>
                            </div>
                          </div>
                        </fieldset>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="lock u-mb-m">
      <div class="venus lock__text">Your personal information is protected by law and will be kept confidential.</div>
    </div>    
    <button class="btn btn--lg qa-btn-get-started" type="submit" name="action[save_continue]">Start now</button>
  </form>
</div>
{% endblock %}
